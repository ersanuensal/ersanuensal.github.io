import{r as V,c as T,a as z,b as w,o as d,d as u,e as t,f as A,w as x,g as C,h as y,u as M,i as h,j as c,t as L,k as p,v,l as I,m as R,n as S,p as q,q as J,s as E,F,x as B,y as H,z as Z,A as G,B as K}from"./vendor.2f8526e5.js";const Y=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function l(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(r){if(r.ep)return;r.ep=!0;const n=l(r);fetch(r.href,n)}};Y();const O=V({user:null}),X={setUser(i){O.user=i?i.user:null}};var D={state:O,methods:X};const W="https://oyioqvxlilouegwbeekh.supabase.co",Q="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQzMDQ0MjY5LCJleHAiOjE5NTg2MjAyNjl9.kTzSGH01qKcDB7tuNFODKL20eBZZm8srXFI02ZVFOD8",k=T(W,Q);var ee="assets/logo.7c8b451f.png",b=(i,o)=>{const l=i.__vccOpts||i;for(const[e,r]of o)l[e]=r;return l};const te={setup(){const i=z(()=>D.state.user),o=M();return{logout:async()=>{await k.auth.signOut(),o.push({name:"Login"})},user:i}}},oe={class:"bg-primaryc text-white"},se={class:"container py-5 px-4 flex flex-col gap-4 items-center sm:flex-row"},re=t("div",{class:"flex items-center gap-x-4"},[t("img",{class:"h-10",src:ee,alt:""})],-1),ae={class:"flex flex-1 justify-end gap-x-10"},ie=h("Home"),ne=h("Create an Activity"),le=h("Login"),ce=h("Register"),de=h("Profile");function ue(i,o,l,e,r,n){const s=w("router-link");return d(),u("header",oe,[t("nav",se,[re,t("ul",ae,[A(s,{class:"cursor-pointer",to:{name:"Home"}},{default:x(()=>[ie]),_:1}),e.user?(d(),C(s,{key:0,class:"cursor-pointer",to:{name:"Activity"}},{default:x(()=>[ne]),_:1})):y("",!0),e.user?y("",!0):(d(),C(s,{key:1,class:"cursor-pointer",to:{name:"Login"}},{default:x(()=>[le]),_:1})),e.user?y("",!0):(d(),C(s,{key:2,class:"cursor-pointer",to:{name:"Register"}},{default:x(()=>[ce]),_:1})),e.user?(d(),C(s,{key:3,class:"cursor-pointer",to:{name:"Profile"}},{default:x(()=>[de]),_:1})):y("",!0),e.user?(d(),u("li",{key:4,onClick:o[0]||(o[0]=(...a)=>e.logout&&e.logout(...a)),class:"cursor-pointer"},"Logout")):y("",!0)])])])}var me=b(te,[["render",ue]]);const pe={components:{Navigation:me},setup(){const i=c(null);return k.auth.user()||(i.value=!0),k.auth.onAuthStateChange((l,e)=>{D.methods.setUser(e),i.value=!0}),{appReady:i}},created(){this.$workbox&&this.$workbox.addEventListener("waiting",()=>{this.showUpdateUI=!0})}};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js")});const ve={key:0,class:"min-h-full font-Poppins box-border"};function ye(i,o,l,e,r,n){const s=w("Navigation"),a=w("router-view");return e.appReady?(d(),u("div",ve,[A(s),A(a)])):y("",!0)}var fe=b(pe,[["render",ye]]);const _e={},ge={name:"login",setup(){const i=M(),o=c(null),l=c(null),e=c(null);return{email:o,password:l,errorMsg:e,login:async()=>{try{const{error:n}=await k.auth.signIn({email:o.value,password:l.value});if(n)throw n;i.push({name:"Home"})}catch(n){e.value=n.message,setTimeout(()=>{e.value=null},5e3)}}}}},xe={class:"max-w-screen-sm mx-auto px-4 py-10"},he={key:0,class:"mb-10 p-4 rounded-md bg-light-grey"},be={class:"text-red-600"},we=t("h1",{class:"text-3 text-primaryc mb-4"},"Login",-1),Ae={class:"flex flex-col mb-2"},ke=t("label",{for:"email",class:"mb-1 text-sm text-primaryc"},"Email",-1),Ue={class:"flex flex-col mb-2"},Le=t("label",{for:"Password",class:"mb-1 text-sm text-primaryc"},"Password",-1),$e=t("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Login ",-1),Ne=h(" You don't have an account? "),Ce=t("span",{class:"text-primaryc"},"Register",-1);function Ie(i,o,l,e,r,n){const s=w("router-link");return d(),u("div",xe,[e.errorMsg?(d(),u("div",he,[t("p",be,L(e.errorMsg),1)])):y("",!0),t("form",{onSubmit:o[2]||(o[2]=I((...a)=>e.login&&e.login(...a),["prevent"])),class:"p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[we,t("div",Ae,[ke,p(t("input",{type:"text",id:"email","onUpdate:modelValue":o[0]||(o[0]=a=>e.email=a),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[v,e.email]])]),t("div",Ue,[Le,p(t("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=a=>e.password=a),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[v,e.password]])]),$e,A(s,{class:"text-sm text-black mt-6 text-center",to:{name:"Register"}},{default:x(()=>[Ne,Ce]),_:1})],32)])}var Me=b(ge,[["render",Ie]]);const Pe={name:"register",setup(){const i=M(),o=c(null),l=c(null),e=c(null),r=c(null);return{email:o,password:l,confirmPassword:e,errorMsg:r,register:async()=>{if(l.value===e.value){try{const{error:s}=await k.auth.signUp({email:o.value,password:l.value});if(s)throw s;i.push({name:"Login"})}catch(s){r.value=s.message,setTimeout(()=>{r.value=null},5e3)}return}r.value="Error: Passwords do not match",setTimeout(()=>{r.value=null},5e3)}}}},Ve={class:"max-w-screen-sm mx-auto px-4 py-10"},Te={key:0,class:"mb-10 p-4 rounded-md bg-light-grey"},qe={class:"text-red-600"},Oe=t("h1",{class:"text-3 text-primaryc mb-4"},"Register",-1),De={class:"flex flex-col mb-2"},je=t("label",{for:"email",class:"mb-1 text-sm text-primaryc"},"Email",-1),ze={class:"flex flex-col mb-2"},Re=t("label",{for:"Password",class:"mb-1 text-sm text-primaryc"},"Password",-1),Se={class:"flex flex-col mb-2"},Je=t("label",{for:"confirmPassword",class:"mb-1 text-sm text-primaryc"},"Confirm Password",-1),Ee=t("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"},"Register",-1),Fe=h(" Already registered? "),Be=t("span",{class:"text-primaryc"},"Login",-1);function He(i,o,l,e,r,n){const s=w("router-link");return d(),u("div",Ve,[e.errorMsg?(d(),u("div",Te,[t("p",qe,L(e.errorMsg),1)])):y("",!0),t("form",{onSubmit:o[3]||(o[3]=I((...a)=>e.register&&e.register(...a),["prevent"])),class:"p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[Oe,t("div",De,[je,p(t("input",{type:"text",id:"email","onUpdate:modelValue":o[0]||(o[0]=a=>e.email=a),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[v,e.email]])]),t("div",ze,[Re,p(t("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=a=>e.password=a),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[v,e.password]])]),t("div",Se,[Je,p(t("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":o[2]||(o[2]=a=>e.confirmPassword=a),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[v,e.confirmPassword]])]),Ee,A(s,{class:"text-sm text-black mt-6 text-center",to:{name:"Login"}},{default:x(()=>[Fe,Be]),_:1})],32)])}var Ze=b(Pe,[["render",He]]);const Ge="https://oyioqvxlilouegwbeekh.supabase.co",Ke="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQzMDQ0MjY5LCJleHAiOjE5NTg2MjAyNjl9.kTzSGH01qKcDB7tuNFODKL20eBZZm8srXFI02ZVFOD8",U=T(Ge,Ke),$=V({user:{}});const Ye={props:{path:String},emits:["upload","update:path"],setup(i,{emit:o}){const{path:l}=R(i),e=c("10em"),r=c(!1),n=c(""),s=c(),a=async()=>{try{const{data:_,error:g}=await U.storage.from("avatars").download(l.value);if(g)throw g;n.value=URL.createObjectURL(_)}catch(_){console.error("Error downloading image: ",_.message)}},m=async _=>{s.value=_.target.files;try{if(r.value=!0,!s.value||s.value.length===0)throw new Error("You must select an image to upload.");const g=s.value[0],P=g.name.split(".").pop(),f=`${`${Math.random()}.${P}`}`;let{error:N}=await U.storage.from("avatars").upload(f,g);if(N)throw N;o("update:path",f),o("upload")}catch(g){alert(g.message)}finally{r.value=!1}};return S(l,()=>{l.value&&a()}),{path:l,size:e,uploading:r,src:n,files:s,uploadAvatar:m}}},Xe={class:"flex flex-col items-center"},We=["src"],Qe={class:"text-center py-10"},et={class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc",for:"single"},tt=["disabled"];function ot(i,o,l,e,r,n){return d(),u("div",null,[t("div",Xe,[e.src?(d(),u("img",{key:0,src:e.src,alt:"Avatar",class:"avatar image",style:q({height:e.size,width:e.size})},null,12,We)):(d(),u("div",{key:1,class:"avatar no-image",style:q({height:e.size,width:e.size})},null,4)),t("div",Qe,[t("label",et,L(e.uploading?"Uploading ...":"Upload new Picture"),1),t("input",{style:{visibility:"hidden",position:"absolute"},type:"file",id:"single",accept:"image/*",onChange:o[0]||(o[0]=(...s)=>e.uploadAvatar&&e.uploadAvatar(...s)),disabled:e.uploading},null,40,tt)])])])}var st=b(Ye,[["render",ot]]);const rt={components:{Avatar:st},setup(){const i=c(!0),o=c(""),l=c(""),e=c("");async function r(){try{i.value=!0,$.user=U.auth.user();let{data:s,error:a,status:m}=await U.from("profiles").select("username, gender, avatar_url").eq("id",$.user.id).single();if(a&&m!==406)throw a;s&&(o.value=s.username,l.value=s.gender,e.value=s.avatar_url)}catch(s){alert(s.message)}finally{i.value=!1}}async function n(){try{i.value=!0,$.user=U.auth.user();const s={id:$.user.id,username:o.value,gender:l.value,avatar_url:e.value,updated_at:new Date};let{error:a}=await U.from("profiles").upsert(s,{returning:"minimal"});if(a)throw a}catch(s){alert(s.message)}finally{i.value=!1}}return J(()=>{r()}),{store:$,loading:i,username:o,gender:l,avatar_url:e,updateProfile:n}}},at={class:"max-w-screen-sm mx-auto px-4 py-10"},it={class:"flex flex-col mb-2"},nt=t("label",{for:"email",class:"mb-1 text-sm text-primaryc"},"Email",-1),lt=["value"],ct={class:"flex flex-col mb-2"},dt=t("label",{for:"username",class:"mb-1 text-sm text-primaryc"},"Username",-1),ut={class:"flex flex-col mb-2"},mt=t("label",{for:"gender",class:"mb-1 text-sm text-primaryc"},"Gender",-1),pt=["value","disabled"];function vt(i,o,l,e,r,n){const s=w("Avatar");return d(),u("div",at,[t("form",{onSubmit:o[3]||(o[3]=I((...a)=>e.updateProfile&&e.updateProfile(...a),["prevent"])),class:"p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[A(s,{path:e.avatar_url,"onUpdate:path":o[0]||(o[0]=a=>e.avatar_url=a),onUpload:e.updateProfile},null,8,["path","onUpload"]),t("div",it,[nt,t("input",{id:"email",type:"text",value:e.store.user.email,disabled:"",required:"",class:"p-2 text-gray-500 focus:outline-none"},null,8,lt)]),t("div",ct,[dt,p(t("input",{id:"username",type:"text","onUpdate:modelValue":o[1]||(o[1]=a=>e.username=a),class:"p-2 text-gray-500 focus:outline-none"},null,512),[[v,e.username]])]),t("div",ut,[mt,p(t("input",{id:"gender",type:"text","onUpdate:modelValue":o[2]||(o[2]=a=>e.gender=a),class:"p-2 text-gray-500 focus:outline-none"},null,512),[[v,e.gender]])]),t("button",{type:"submit",value:e.loading?"Loading ...":"Update",disabled:e.loading,class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"},"Update",8,pt)],32)])}var yt=b(rt,[["render",vt]]),ft="assets/trash.8e4eb5f3.png";const _t={setup(){const i=c(""),o=c("select-activity"),l=c(""),e=c([]),r=c(""),n=c(""),s=c(""),a=c(null),m=c(null),_=()=>{if(o.value==="others"){e.value.push({id:H(),description:"",duration:""});return}};return{ActivityName:i,ActivityType:o,ActivityDescription:l,ActivityDate:r,ActivityTime:n,ActivityLocation:s,activity:e,statusMsg:a,errorMsg:m,addActivity:_,removeActivity:f=>{if(e.value.length>1){e.value=e.value.filter(N=>N.id!==f);return}m.value="You must have at least one activity",setTimeout(()=>{m.value=null},5e3)},activityChange:()=>{e.value=[],_()},createActivity:async()=>{try{const{error:f}=await k.from("activities").insert({name:i.value,type:o.value,date:r.value,time:n.value,location:s.value,activity:e.value});if(f)throw f;a.value="Sucess. Activity Created",i.value=null,o.value="select-activity",e.value=[],setTimeout(()=>{a.value=null},5e3)}catch(f){m.value=f.message,setTimeout(()=>{m.value=null},5e3)}}}}},gt={class:"max-w-screen-md mx-auto px-4 py-1"},xt={key:0,class:"mb-10 p-4 bg-light-grey rounded-md"},ht={class:"text-black-500"},bt={class:"text-red-500"},wt={class:"p-8 flex items-start bg-light-grey rounded-md shadow-lg"},At=t("h1",{class:"text-2xl text-primaryc"},"Create an Activity",-1),kt={class:"flex flex-col"},Ut=t("label",{for:"activity-name",class:"mb-1 text-sm text-primaryc"},"Activity Name",-1),Lt={class:"flex flex-col"},$t=t("label",{for:"select-activity",class:"mb-1 text-sm text-primaryc"},"Activity Type",-1),Nt=t("option",{value:"select-activity"},"Select Activity Type",-1),Ct=t("option",{value:"sports"},"Sports",-1),It=t("option",{value:"others"},"Others",-1),Mt=[Nt,Ct,It],Pt={key:0,class:"flex flex-col py-4 gap-y-4"},Vt={class:"flex flex-col md:w-2/3"},Tt=t("label",{for:"activity",class:"mb-1 text-sm text-primaryc"}," Activity Description ",-1),qt=["onUpdate:modelValue"],Ot={class:"flex flex-col flex-1"},Dt=t("label",{for:"duration",class:"mb-1 text-sm text-primaryc"}," Duration ",-1),jt=["onUpdate:modelValue"],zt=["onClick"],Rt={class:"flex flex-col"},St=t("label",{for:"activity-date",class:"mb-1 text-sm text-primaryc"},"Activity Date",-1),Jt={class:"flex flex-col"},Et=t("label",{for:"activity-time",class:"mb-1 text-sm text-primaryc"},"Activity Time",-1),Ft={class:"flex flex-col"},Bt=t("label",{for:"activity-location",class:"mb-1 text-sm text-primaryc"},"Activity Location",-1),Ht=t("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Create ",-1);function Zt(i,o,l,e,r,n){return d(),u("div",gt,[e.statusMsg||e.errorMsg?(d(),u("div",xt,[t("p",ht,L(e.statusMsg),1),t("p",bt,L(e.errorMsg),1)])):y("",!0),t("div",wt,[t("form",{onSubmit:o[7]||(o[7]=I((...s)=>e.createActivity&&e.createActivity(...s),["prevent"])),class:"flex flex-col gap-y-5 w-full"},[At,t("div",kt,[Ut,p(t("input",{type:"text",required:"",class:"p-2 text-gray-500 focus:outline-none",placeholder:"Activity Name",id:"activity-name","onUpdate:modelValue":o[0]||(o[0]=s=>e.ActivityName=s)},null,512),[[v,e.ActivityName]])]),t("div",Lt,[$t,p(t("select",{required:"",class:"p-2 text-gray-500 focus:outline-none",id:"select-activity",onChange:o[1]||(o[1]=(...s)=>e.activityChange&&e.activityChange(...s)),"onUpdate:modelValue":o[2]||(o[2]=s=>e.ActivityType=s)},Mt,544),[[E,e.ActivityType]]),e.ActivityType==="others"?(d(),u("div",Pt,[(d(!0),u(F,null,B(e.activity,(s,a)=>(d(),u("div",{class:"flex flex-col gap-x-6 gap-y-2 relative md:flex-row",key:a},[t("div",Vt,[Tt,p(t("input",{required:"",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":m=>s.description=m},null,8,qt),[[v,s.description]])]),t("div",Ot,[Dt,p(t("input",{required:"",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":m=>s.duration=m},null,8,jt),[[v,s.duration]]),t("img",{onClick:m=>e.removeActivity(s.id),src:ft,class:"h-4 w-auto absolute -left-5 cursor-pointer",alt:""},null,8,zt)])]))),128)),t("button",{onClick:o[3]||(o[3]=(...s)=>e.addActivity&&e.addActivity(...s)),class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Add Activity ")])):y("",!0)]),t("div",Rt,[St,p(t("input",{required:"",type:"date",class:"p-2 text-gray-500 focus:outline-none",id:"activity-date","onUpdate:modelValue":o[4]||(o[4]=s=>e.ActivityDate=s)},null,512),[[v,e.ActivityDate]])]),t("div",Jt,[Et,p(t("input",{required:"",type:"time",class:"p-2 text-gray-500 focus:outline-none",id:"activity-time","onUpdate:modelValue":o[5]||(o[5]=s=>e.ActivityTime=s)},null,512),[[v,e.ActivityTime]])]),t("div",Ft,[Bt,p(t("input",{required:"",type:"text",class:"p-2 text-gray-500 focus:outline-none",id:"activity-location","onUpdate:modelValue":o[6]||(o[6]=s=>e.ActivityLocation=s)},null,512),[[v,e.ActivityLocation]])]),Ht],32)])])}var Gt=b(_t,[["render",Zt]]);const Kt=[{path:"/",name:"Home",component:_e},{path:"/login",name:"Login",component:Me},{path:"/register",name:"Register",component:Ze},{path:"/profile",name:"Profile",component:yt},{path:"/activity",name:"Activity",component:Gt}],Yt=Z({history:G(),routes:Kt});K(fe).use(Yt).mount("#app");
