import{r as I,c as P,a as M,b as p,o as c,d as u,e as s,f as _,w as g,g as w,h as m,u as b,i as f,j as d,t as k,k as h,v as x,l as L,m as R,n as U,p as O}from"./vendor.612fb3a9.js";const V=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}};V();const $=I({user:null}),j={setUser(n){$.user=n?n.user:null}};var N={state:$,methods:j};const A="https://oyioqvxlilouegwbeekh.supabase.co",C="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQzMDQ0MjY5LCJleHAiOjE5NTg2MjAyNjl9.kTzSGH01qKcDB7tuNFODKL20eBZZm8srXFI02ZVFOD8",y=P(A,C);var q="assets/logo.03d6d6da.png",v=(n,t)=>{const i=n.__vccOpts||n;for(const[e,o]of t)i[e]=o;return i};const E={setup(){const n=M(()=>N.state.user),t=b();return{logout:async()=>{await y.auth.signOut(),t.push({name:"Login"})},user:n}}},J={class:"bg-primaryc text-white"},T={class:"container py-5 px-4 flex flex-col gap-4 items-center sm:flex-row"},B=s("div",{class:"flex items-center gap-x-4"},[s("img",{class:"w-10",src:q,alt:""}),s("h1",{class:"text-lg"},"Active Tracker")],-1),H={class:"flex flex-1 justify-end gap-x-10"},S=f("Home"),D=f("Login"),F=f("Register");function z(n,t,i,e,o,r){const a=p("router-link");return c(),u("header",J,[s("nav",T,[B,s("ul",H,[_(a,{class:"cursor-pointer",to:{name:"Home"}},{default:g(()=>[S]),_:1}),e.user?m("",!0):(c(),w(a,{key:0,class:"cursor-pointer",to:{name:"Login"}},{default:g(()=>[D]),_:1})),e.user?m("",!0):(c(),w(a,{key:1,class:"cursor-pointer",to:{name:"Register"}},{default:g(()=>[F]),_:1})),e.user?(c(),u("li",{key:2,onClick:t[0]||(t[0]=(...l)=>e.logout&&e.logout(...l)),class:"cursor-pointer"},"Logout")):m("",!0)])])])}var K=v(E,[["render",z]]);const W={components:{Navigation:K},setup(){const n=d(null);return y.auth.user()||(n.value=!0),y.auth.onAuthStateChange((i,e)=>{N.methods.setUser(e),n.value=!0}),{appReady:n}},created(){this.$workbox&&this.$workbox.addEventListener("waiting",()=>{this.showUpdateUI=!0})}};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js")});const Z={key:0,class:"min-h-full font-Poppins box-border"};function G(n,t,i,e,o,r){const a=p("Navigation"),l=p("router-view");return e.appReady?(c(),u("div",Z,[_(a),_(l)])):m("",!0)}var X=v(W,[["render",G]]);const Y={},Q={name:"login",setup(){const n=b(),t=d(null),i=d(null),e=d(null);return{email:t,password:i,errorMsg:e,login:async()=>{try{const{error:r}=await y.auth.signIn({email:t.value,password:i.value});if(r)throw r;n.push({name:"Home"})}catch(r){e.value=r.message,setTimeout(()=>{e.value=null},5e3)}}}}},ee={class:"max-w-screen-sm mx-auto px-4 py-10"},te={key:0,class:"mb-10 p-4 rounded-md bg-light-grey"},se={class:"text-red-600"},oe=s("h1",{class:"text-3 text-primaryc mb-4"},"Login",-1),re={class:"flex flex-col mb-2"},ne=s("label",{for:"email",class:"mb-1 text-sm text-primaryc"},"Email",-1),ae={class:"flex flex-col mb-2"},ie=s("label",{for:"Password",class:"mb-1 text-sm text-primaryc"},"Password",-1),le=s("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Login ",-1),ce=f(" You don't have an account? "),de=s("span",{class:"text-primaryc"},"Register",-1);function ue(n,t,i,e,o,r){const a=p("router-link");return c(),u("div",ee,[e.errorMsg?(c(),u("div",te,[s("p",se,k(e.errorMsg),1)])):m("",!0),s("form",{onSubmit:t[2]||(t[2]=L((...l)=>e.login&&e.login(...l),["prevent"])),class:"p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[oe,s("div",re,[ne,h(s("input",{type:"text",id:"email","onUpdate:modelValue":t[0]||(t[0]=l=>e.email=l),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[x,e.email]])]),s("div",ae,[ie,h(s("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=l=>e.password=l),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[x,e.password]])]),le,_(a,{class:"text-sm text-black mt-6 text-center",to:{name:"Register"}},{default:g(()=>[ce,de]),_:1})],32)])}var me=v(Q,[["render",ue]]);const pe={name:"register",setup(){const n=b(),t=d(null),i=d(null),e=d(null),o=d(null);return{email:t,password:i,confirmPassword:e,errorMsg:o,register:async()=>{if(i.value===e.value){try{const{error:a}=await y.auth.signUp({email:t.value,password:i.value});if(a)throw a;n.push({name:"Login"})}catch(a){o.value=a.message,setTimeout(()=>{o.value=null},5e3)}return}o.value="Error: Passwords do not match",setTimeout(()=>{o.value=null},5e3)}}}},_e={class:"max-w-screen-sm mx-auto px-4 py-10"},ge={key:0,class:"mb-10 p-4 rounded-md bg-light-grey"},fe={class:"text-red-600"},he=s("h1",{class:"text-3 text-primaryc mb-4"},"Register",-1),xe={class:"flex flex-col mb-2"},ye=s("label",{for:"email",class:"mb-1 text-sm text-primaryc"},"Email",-1),ve={class:"flex flex-col mb-2"},be=s("label",{for:"Password",class:"mb-1 text-sm text-primaryc"},"Password",-1),we={class:"flex flex-col mb-2"},ke=s("label",{for:"confirmPassword",class:"mb-1 text-sm text-primaryc"},"Confirm Password",-1),Le=s("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"},"Register",-1),$e=f(" Already registered? "),Ne=s("span",{class:"text-primaryc"},"Login",-1);function Ie(n,t,i,e,o,r){const a=p("router-link");return c(),u("div",_e,[e.errorMsg?(c(),u("div",ge,[s("p",fe,k(e.errorMsg),1)])):m("",!0),s("form",{onSubmit:t[3]||(t[3]=L((...l)=>e.register&&e.register(...l),["prevent"])),class:"p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[he,s("div",xe,[ye,h(s("input",{type:"text",id:"email","onUpdate:modelValue":t[0]||(t[0]=l=>e.email=l),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[x,e.email]])]),s("div",ve,[be,h(s("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=l=>e.password=l),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[x,e.password]])]),s("div",we,[ke,h(s("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[2]||(t[2]=l=>e.confirmPassword=l),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[x,e.confirmPassword]])]),Le,_(a,{class:"text-sm text-black mt-6 text-center",to:{name:"Login"}},{default:g(()=>[$e,Ne]),_:1})],32)])}var Pe=v(pe,[["render",Ie]]);const Me=[{path:"/",name:"Home",component:Y},{path:"/login",name:"Login",component:me},{path:"/register",name:"Register",component:Pe}],Re=R({history:U(),routes:Me});O(X).use(Re).mount("#app");
